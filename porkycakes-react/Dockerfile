FROM node:18-alpine

WORKDIR /app

COPY . .

ARG REACT_APP_KEYCLOAK_LOGIN_REDIRECT_URL
ENV REACT_APP_KEYCLOAK_LOGIN_REDIRECT_URL=http://localhost:8081/login

ARG REACT_APP_KEYCLOAK_LOGOUT_REDIRECT_URL
ENV REACT_APP_KEYCLOAK_LOGOUT_REDIRECT_URL=http://localhost:8081

RUN npm install
RUN npm run build

EXPOSE 8082

CMD ["npm", "start"]
